{
  "associatedPromptStudioPromptId": "dzcahf1gws",
  "associatedPromptStudioId": "1hmgjhr",
  "rawQueryOutputMode": "RAW",
  "completionSettings": {
    "stopSequences": [],
    "temperature": 0.3,
    "responseFormat": {
      "type": "json"
    }
  },
  "rawResponseOutputMode": "RAW_WITHOUT_TRACES",
  "llmId": "openai:OpenAI-FA:gpt-4o-mini",
  "prompt": {
    "promptTemplateInputs": [],
    "resultValidation": {
      "requiredJSONObjectKeys": [],
      "expectedFormat": "JSON_OBJECT",
      "forbiddenTerms": []
    },
    "promptTemplateQueriesSource": "DATASET",
    "structuredPromptExamples": [],
    "textPromptTemplate": "100 - Analyse par le Design Office\n\nUne non-conformité apparait selon le contexte suivant :\n- label: {{ nc_label }}\n- cause primaire: {{ nc_primary_cause }}\n- analyse: {{ nc_analysis }}\n- impact  : {{ nc_impact }} \n- impact quantitatif:  {{ nc_quantitative_impact }} \n- si non traité :  {{ nc_unresolved_scenario }} \n- mitigation possible: {{ nc_mitigated_scenario }} \n- métriques:  {{ metrics }}\n- domaine ATA  : {{ ATA code }} {{ ATA category }}\n- domaines ATA connexes : {{ ATA code }} \n- parties concernées de l\u0027A220: {{ parts }} \n- méthode d\u0027observation: {{ 000_observation }} \n\nCes données ne sont pas formalisées par les opérateurs, qui doivent les découvrir (données cachées) selon le processus de gestion standardisé suivant :\n000 - rapport de non-conformité par le Quality Controler\n100 - analyse et recommandation / plan d\u0027action par le Design Office\n200 - validation de l\u0027analyse / plan d\u0027action par le Design Manager\n300 - calcul de structure lié au plan d\u0027action et recommandation / selon le Stress Office\n400 - du calcul / plan d\u0027action amendé par le Stress Manager\n500 - plan d\u0027action final validé par le Quality Manager\n\nUn premier rapport a été formalisé en 000 par le Quality Controler :\n- date:  {{ 000_rapport_date }}\n- label : {{ 000_rapport_label }}\n- description : {{ 000_rapport_description }}\n \nOn est a l\u0027étape : 100 - Analyse par le Design Office\n\nLe travail de l\u0027analyste du Design office est d\u0027analyser plus en détail les éléments fournis dans le rapport 000, et de proposer un plan d\u0027action de mitigation, sans présumer des impacts de struture à ce stade.\n\nLe nom du Design Office est  PRENOM_NOM (générer un nom prénom statistiquement aléatoire pour la region de Quebec, différent de celui du Quality Controller {{ 000_rapport_name }})\n\nLe Design Office a le STYLE suivant utilisé pour son style rédactionnel: {{ 100_style }}. \nElusif voudra dire trop synthéthique, verbose un peu trop de mots.\nDans tous les cas il s\u0027agit de style ingénieur, donc plus télégraphique que pleinement rédigé (pas de phrases compliquées)\n\nSelon ses compétences et le besoin d\u0027examen complémentaire dans le domaine ATA, il pourra affaire a un ou plusieurs techniciens (Design Office Expert Elec, Design Office Expert Hydro, ...), ou des demandes complémentaires au Quality Controler. En ce cas, sa demande de complément est précisé dans son ticket. Si plusieurs demandes de précision sont faites, chaque acteur complète et passe la main, et statue quand l\u0027analyse semble complète, et le plan d\u0027action / la recommandation consolidée.\n\nEn sortie, est attendu un array json brut sans mise en forme (sans ```json) comprenant, de la liste des étapes nécessaire pour mener à bien l\u0027analyse, chaque élément de l\u0027array étant composé de:\n- role: Design Office, ou Quality Controler, ou Design Office Expert Elec, etc \n- name: PRENOM_NOM (de l\u0027acteur concerné, en gardant une cohérence)\n- style: STYLE (celui du Design office, ou bien du Quality Controller)\n- label: libellé de l\u0027étape d\u0027analyse / recommandation\n- date: {{ nc_event_date }} s\u0027incrémentait de quelques heures à un ou 2 jours (L\u0027heure doit être une heure naturelle, pas une heure arrondie)\n- description: description de l\u0027analyse, le cas échéant des besoin de complément ou sinon du plan d\u0027action. La description doit comprendre l\u0027analyse complétée et les recommandation (plan d\u0027action complété) le cas échéant, pas une simple mention à un rapport externe (elle doit être autoporteuse) - et formattée en markdown multilignes\n\nLes textes sont en anglais",
    "textPromptTemplateInputs": [
      {
        "datasetColumnName": "nc_label",
        "name": " nc_label ",
        "type": "TEXT"
      },
      {
        "datasetColumnName": "nc_primary_cause",
        "name": " nc_primary_cause ",
        "type": "TEXT"
      },
      {
        "name": " nc_impact ",
        "type": "TEXT"
      },
      {
        "datasetColumnName": "nc_quantitative_impact",
        "name": " nc_quantitative_impact ",
        "type": "TEXT"
      },
      {
        "datasetColumnName": "nc_mitigated_scenario",
        "name": " nc_mitigated_scenario ",
        "type": "TEXT"
      },
      {
        "datasetColumnName": "nc_analysis",
        "name": " nc_analysis ",
        "type": "TEXT"
      },
      {
        "datasetColumnName": "nc_unresolved_scenario",
        "name": " nc_unresolved_scenario ",
        "type": "TEXT"
      },
      {
        "name": " metrics ",
        "type": "TEXT"
      },
      {
        "datasetColumnName": "ATA_code",
        "name": " ATA code ",
        "type": "TEXT"
      },
      {
        "datasetColumnName": "ATA_category",
        "name": " ATA category ",
        "type": "TEXT"
      },
      {
        "datasetColumnName": "parts",
        "name": " parts ",
        "type": "TEXT"
      },
      {
        "datasetColumnName": "nc_event_date",
        "name": " nc_event_date ",
        "type": "TEXT"
      },
      {
        "datasetColumnName": "000_rapport_description",
        "name": " 000_rapport_description ",
        "type": "TEXT"
      },
      {
        "datasetColumnName": "000_rapport_date",
        "name": " 000_rapport_date ",
        "type": "TEXT"
      },
      {
        "datasetColumnName": "000_rapport_label",
        "name": " 000_rapport_label ",
        "type": "TEXT"
      },
      {
        "datasetColumnName": "000_rapport_observation",
        "name": " 000_observation ",
        "type": "TEXT"
      },
      {
        "datasetColumnName": "100_style",
        "name": " 100_style ",
        "type": "TEXT"
      },
      {
        "datasetColumnName": "000_rapport_name",
        "name": " 000_rapport_name ",
        "type": "TEXT"
      }
    ],
    "textPromptSystemTemplate": "",
    "promptMode": "PROMPT_TEMPLATE_TEXT"
  }
}